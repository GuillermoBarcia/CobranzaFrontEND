<div [formGroup]="prestamosJudicialesForm" class="main-container-bg mx-auto px-4 py-6 w-full">
  <!-- Componente de migas de pan -->
  <lib-bread-crumb
    [titulo]="'Préstamos Judiciales Detalle'"
    [items]="[
      { label: 'Cobranza', url: '/' },
      { label: 'Prestamo Judiciales', url: '/citas/prestamos-judiciales' },
      { label: 'Préstamos Judiciales Detalle' }
    ]"
  ></lib-bread-crumb>

  <div class="p-4 space-y-6">
    <!-- Nueva Sección de Filtros -->
    <div class="bg-white rounded-xl shadow-md p-6">
      <h3 class="text-lg font-semibold text-gray-800 mb-4">Filtro por Rango de Fechas</h3>
      <div class="flex flex-col md:flex-row gap-4 items-end">
        <mat-form-field appearance="outline" class="flex-1">
          <mat-label>Rango de Fechas</mat-label>
          <mat-date-range-input>
            <input matStartDate placeholder="Fecha Inicio">
            <input matEndDate placeholder="Fecha Fin">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="rangoPicker"></mat-datepicker-toggle>
          <mat-date-range-picker #rangoPicker></mat-date-range-picker>
          <mat-hint>Selecciona un rango para filtrar</mat-hint>
        </mat-form-field>
        <div class="flex gap-2">
          <button mat-raised-button color="primary" class="px-6 py-2">
            Buscar
          </button>
          <button mat-stroked-button color="warn" class="px-6 py-2">
            Limpiar
          </button>
        </div>
      </div>
    </div>
    
  <div class="p-4 space-y-6">
    <!-- Información Previa -->
    <div class="bg-white rounded-xl shadow-md p-6">
      <p class="text-sm text-gray-600 mb-2">
        Registrar Préstamo Judicial: Para asignar un Préstamo en estado CASTIGADO deberá escogerse un Abogado de la lista y proceder a Procesar la Solicitud (F5). <br>
        En caso de que un Préstamo en estado PREJUDICIAL sea asignado a un Abogado, inmediatamente este estado del mismo cambie a JUDICIAL y no exista posibilidad de que retorne a PREJUDICIAL. <br>
        Para dejar un Préstamo como JUDICIAL deberá escogerse un Abogado de la lista y proceder a Procesar la Solicitud (F5).
      </p>
      <div class="grid grid-cols-2 gap-4 mt-4">
        <div>
          <p class="font-bold">Número Préstamo:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="numeroPrestamo" readonly>
        </div>
        <div>
          <p class="font-bold">Oficina:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="oficina" readonly>
        </div>
        <div>
          <p class="font-bold">Tipo:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="tipo" readonly>
        </div>
        <div>
          <p class="font-bold">Abogado:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="abogado" readonly>
        </div>
        <div>
          <p class="font-bold">Salida Último Pago:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="salidaUltimoPago" readonly>
        </div>
        <div>
          <p class="font-bold">Próximo Vencimiento:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="proximoVencimiento" readonly>
        </div>
        <div>
          <p class="font-bold">Saldo Préstamo:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="saldoPrestamo" readonly>
        </div>
        <div>
          <p class="font-bold">Saldo Actual:</p>
          <input matInput class="w-full p-1 border rounded" formControlName="saldoActual" readonly>
        </div>
      </div>
    </div>

 

    <!-- Formulario en cuadrícula -->
    <form class="bg-white rounded-xl shadow-md p-6 grid grid-cols-1 md:grid-cols-2 gap-4">

         <!-- Botones -->
    <div class="flex justify-end  col-span-2">
      <button mat-button color="warn" class="button-cancel" [routerLink]="['/citas/prestamos-judiciales']">Cerrar</button>
      <button mat-flat-button color="warn">Guardar</button>
    </div>

      <mat-form-field appearance="fill">
        <mat-label>Pagare</mat-label>
        <input matInput type="text" formControlName="pagare">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Deudor</mat-label>
        <input matInput type="text" formControlName="deudor">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Abogado</mat-label>
        <mat-select formControlName="abogado">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Fecha Comite Mora</mat-label>
        <input matInput [matDatepicker]="picker3" formControlName="fechaCompromisoMora">
        <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
        <mat-datepicker #picker3></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Fecha Entrega Expediente</mat-label>
        <input matInput [matDatepicker]="picker1" formControlName="fechaEntregaExpediente">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Fecha Demanda</mat-label>
        <input matInput [matDatepicker]="picker4" formControlName="fechaDemanda">
        <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
        <mat-datepicker #picker4></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Valor Cuantia</mat-label>
        <mat-select formControlName="valorCuantia">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Materia</mat-label>
        <mat-select formControlName="materia">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Tramite</mat-label>
        <mat-select formControlName="tramite">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Medida Cautelar</mat-label>
        <mat-select formControlName="medidaCautelar">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>% Med. Prevent.</mat-label>
        <mat-select formControlName="medPrevent">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Avaluo Tentativo</mat-label>
        <input matInput type="text" formControlName="avaluoTentativo">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Cubre med Cautelar</mat-label>
        <mat-select formControlName="cubremeCautelar">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Provincia</mat-label>
        <mat-select formControlName="provincia">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Canton</mat-label>
        <mat-select formControlName="canton">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Unidad Judicial</mat-label>
        <mat-select formControlName="unidadJudicial">
          <mat-option value="">Seleccione un valor</mat-option>
          <!-- Opciones dinámicas aquí -->
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Causa</mat-label>
        <input matInput type="text" formControlName="causa">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Accion Realizada</mat-label>
        <input matInput type="text" formControlName="accionRealizada">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Fecha Ult. Dilig</mat-label>
        <input matInput [matDatepicker]="picker2" formControlName="fechaUltDilig">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Comenta Satje</mat-label>
        <input matInput type="text" formControlName="comentaSatje">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Det. Prox. Gestion</mat-label>
        <input matInput type="text" formControlName="detproxgestion">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Suger. Abogado</mat-label>
        <input matInput type="text" formControlName="sugerAbogado">
      </mat-form-field>

      <mat-form-field appearance="fill" class="col-span-2">
        <mat-label>Obs. Generales</mat-label>
        <textarea matInput rows="5" class="resize-none h-32" formControlName="obsGenerales"></textarea>
      </mat-form-field>
    </form>
  </div>
</div>

<style>
  .main-container-bg {
    background-color: #096d22;
    min-height: 100vh;
  }
  .mat-form-field {
    width: 100%;
  }
  input[readonly] {
    background-color: #f0f0f0;
    color: #333;
  }
  @media (max-width: 768px) {
    .md:grid-cols-2 {
      grid-template-columns: 1fr !important;
    }
  }
</style>